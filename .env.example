# ==========================================
# DIGICARD ENTERPRISE - ENVIRONMENT CONFIGURATION
# ==========================================
# Copy this file to .env and fill in your actual values
# This file serves as a template for production deployment

# ==========================================
# DOMAIN CONFIGURATION - SINGLE SOURCE OF TRUTH
# ==========================================
# Set your domain here. All URLs will be automatically derived from this.
# Examples: https://app.card2contacts.com, https://dev.card2contacts.com
# This is the ONLY variable you need to change to switch domains!
APP_DOMAIN=https://your-domain.com

# ==========================================
# DEPLOYMENT & ENVIRONMENT
# ==========================================
ENVIRONMENT=production  # Options: development, staging, production

# Note: The following URLs are automatically derived from APP_DOMAIN
# - FRONTEND_URL: https://${APP_DOMAIN}
# - BACKEND_URL: https://${APP_DOMAIN}
# - ALLOWED_ORIGINS: https://${APP_DOMAIN}
# - REDIRECT_URI: https://${APP_DOMAIN}/api/auth/google/callback

# ==========================================
# DATABASE
# ==========================================
DATABASE_URL=postgresql://username:password@hostname:5432/database_name

# Database Connection Pool Settings (adjust based on your production traffic)
# DB_POOL_SIZE: Number of persistent connections to keep open (default: 20)
DB_POOL_SIZE=20
# DB_MAX_OVERFLOW: Additional connections allowed beyond pool_size (default: 40)
DB_MAX_OVERFLOW=40
# DB_POOL_TIMEOUT: Seconds to wait for a connection from the pool (default: 30)
DB_POOL_TIMEOUT=30
# DB_POOL_RECYCLE: Seconds to recycle connections (default: 3600 / 1 hour)
DB_POOL_RECYCLE=3600

# ==========================================
# AUTHENTICATION & SECURITY
# ==========================================
# IMPORTANT: Generate a strong SECRET_KEY for production
# You can generate one using: openssl rand -hex 32
SECRET_KEY=CHANGE_THIS_TO_A_LONG_RANDOM_STRING_IN_PRODUCTION
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=43200

# ==========================================
# GOOGLE OAUTH
# ==========================================
# Get these from: https://console.cloud.google.com/apis/credentials
# REDIRECT_URI will be automatically derived from APP_DOMAIN
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ==========================================
# AI/LLM CONFIGURATION - SINGLE PLACE TO CHANGE AI PROVIDER
# ==========================================
# Change this to switch between AI models
#
# GROQ MODELS (default provider - fast and affordable):
#   - llama-3.1-8b-instant (fast, recommended for production)
#   - llama-3.3-70b-versatile (more capable, slower)
#   - openai/gpt-oss-20b (Groq-hosted OpenAI-style model)
#   - openai/gpt-oss-120b (larger variant)
#   - groq/ prefix is optional, will be auto-added
#
# GEMINI MODELS (Google AI):
#   - gemini/gemini-flash-lite-latest
#   - gemini/gemini-pro
#
# Note: All models use Groq provider unless they start with "gemini/"
# For full list of Groq models: https://console.groq.com/docs/models
LLM_MODEL=openai/gpt-oss-20b

# AI Provider API Keys (only set the one you're using)
# Get Gemini key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key

# Get Groq key from: https://console.groq.com/keys
GROQ_API_KEY=your-groq-api-key

# ==========================================
# OCR CONFIGURATION - SINGLE PLACE TO CHANGE PROVIDER
# ==========================================
# Change this to switch between OCR providers
# Options: mistral, fallback
OCR_PROVIDER=mistral

# Mistral OCR Settings (using official Mistral Python SDK)
# Get API key from: https://console.mistral.ai/api-keys
MISTRAL_API_KEY=your-mistral-api-key
# Options: mistral-ocr-2512, pixtral-12b-2409, pixtral-large-latest
MISTRAL_MODEL=mistral-ocr-2512
MISTRAL_TIMEOUT=60

# ==========================================
# BUSINESS LOGIC - FREE TIER LIMITS
# ==========================================
# Number of scans allowed for unlicensed users
# Change this to adjust your free tier offering
FREE_TIER_SCAN_LIMIT=4

# Default sub-accounts for enterprise licenses
DEFAULT_MAX_SUB_ACCOUNTS=5

# ==========================================
# EMAIL CONFIGURATION - Hostinger SMTP
# ==========================================
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=465
SMTP_USER=your-email@your-domain.com
SMTP_PASSWORD=your-email-password
EMAIL_FROM=DigiCard <your-email@your-domain.com>

# ==========================================
# RATE LIMITING (Optional - for future features)
# ==========================================
# API requests per minute per user
RATE_LIMIT_PER_MINUTE=60

# Maximum files in a single bulk scan
BULK_SCAN_MAX_FILES=100

# ==========================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ==========================================
# Before deploying to production, ensure you:
# 1. ✅ Set APP_DOMAIN to your production domain (e.g., https://app.card2contacts.com)
# 2. ✅ Changed SECRET_KEY to a strong random string
# 3. ✅ Updated DATABASE_URL with production database credentials
# 4. ✅ Configured Google OAuth credentials for production domain
# 5. ✅ Set up SSL/TLS certificates for HTTPS
# 6. ✅ Obtained API keys for AI services (Groq/Gemini)
# 7. ✅ Obtained API key for OCR service (Mistral)
# 8. ✅ Set ENVIRONMENT=production
# 9. ✅ Review and adjust FREE_TIER_SCAN_LIMIT for your business model
# 10. ✅ Configure Google OAuth redirect URI to: https://your-domain.com/api/auth/google/callback

